[Unit]
Description=Carbon Context Protocol Updater
After=network-online.target
Wants=network-online.target

[Service]
Type=oneshot
ExecStart=/usr/local/bin/ccp-updater
User=root
Group=root
RuntimeDirectory=carbon
RuntimeDirectoryMode=0755

# Important: Ensure /run/carbon exists with correct permissions
ExecStartPre=/bin/mkdir -p /run/carbon
ExecStartPre=/bin/chmod 0755 /run/carbon

# Log to journal
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
